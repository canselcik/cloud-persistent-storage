dependencies:
  override:
    # Install rust, if not already installed (eg. cached)
    - if [ ! -f ~/.cargo/bin/rustup ]; then  curl https://sh.rustup.rs -sSf | sh /dev/stdin --yes; fi
    # Update to latest rust if necessary
    - ~/.cargo/bin/rustup update
    # Fetch dependencies
    - ~/.cargo/bin/cargo fetch
  cache_directories:
    - ~/.cargo

test:
  override:
    - ~/.cargo/bin/cargo test
